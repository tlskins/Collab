<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModalEditLeaf<%= leaf.id %>">Edit Leaf</button>

<!-- Modal -->
<div id="myModalEditLeaf<%= leaf.id %>" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content text-left">

      <div class="modal-header">
        <h4 class="modal-title">Edit Leaf</h4>
      </div>

      <%= form_for(leaf, url: collab_project_branch_edit_leaf_path(:branch_id => @branch.id, :id => leaf.id), html: {multipart: :true, class: "form"}) do |f| %>
        <div class="modal-body">

          <% if leaf.leafable.class.to_s == 'SourceYoutube' %>
              <!-- Form for creating a Youtube source -->
              <div class="form-group col-lg-12 text-center">
                <%= f.label :youtube_title, 'leaf title (optional)'  %><br />
                <%= text_field_tag :youtube_title, leaf.title, class: 'form-control' %><br />

                <%= f.label :youtube, 'youtube'  %><br />
                <%= text_field_tag :link, leaf.leafable.link,  class: 'form-control' %><br />
                <span class="help-block">A link to the video on YouTube.</span><br />
              </div>
	  <% elsif leaf.leafable.class.to_s == 'SourceText' %>
              <!-- Form for creating a Text source -->
              <div class="form-group col-lg-12 text-center">
                <%= f.label :text_title, 'leaf title (optional)'  %><br />
                <%= text_field_tag :text_title, leaf.title,  class: 'form-control' %><br />

                <%= f.label :text, 'text' %><br />
                <%= text_area_tag 'text', leaf.leafable.text,  class: 'form-control' %><br />
              </div>
          <% end %>

          <div class="form-group col-lg-12 text-center">
            <%= f.submit 'Update Leaf', class: 'btn btn-primary' %>
          </div>

          <% if @is_current_admin_collaborator %>
            <%= link_to "Delete Leaf", collab_project_branch_leaf_path(:collab_project_id => @branch.collabproject.id, :branch_id => @branch.id, :id => leaf.id), method: :delete, data: { confirm: "You sure?" } %>
	  <% end %>

        </div>
      <% end %>

      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>
